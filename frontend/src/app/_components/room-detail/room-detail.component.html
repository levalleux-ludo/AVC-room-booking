<div *ngIf="room">
    <div fxLayout="column" fxLayoutWrap fxLayoutAlign="center center">
        <div fxFlex>
            <h1 style="text-align: center;">{{room.name}}</h1>
        </div>
        <div fxFlex style="width: 80%;">
            <mat-carousel timings="250ms ease-in" [autoplay]="true" interval="5000" color="accent" maxWidth="100%" proportion="40" [loop]="true" [hideArrows]="false" [hideIndicators]="false" [useKeyboard]="true" [useMouseWheel]="false">
                <mat-carousel-slide #matCarouselSlide *ngFor="let img of images" [image]="img" overlayColor="#00000040" [hideOverlay]="false"></mat-carousel-slide>
            </mat-carousel>
        </div>
        <div fxFlex fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutAlign="top">
            <div fxFlex>
                <mat-card>
                    <mat-card-header>
                        <h3><i class="fa fa-home" aria-hidden="true"></i>Description</h3>
                    </mat-card-header>
                    <mat-card-content>
                        <div [innerHTML]="roomDescription"></div>
                    </mat-card-content>
                    <mat-card-footer>
                    </mat-card-footer>
                </mat-card>
                <mat-card>
                    <mat-card-header>
                        <h3><i class="fa fa-info-circle" aria-hidden="true"></i>Specifications</h3>
                    </mat-card-header>
                    <mat-card-content style="width: 15em;">
                        <table>
                            <tr>
                                <td>
                                    <div class="specTitle">Rate:</div>
                                </td>
                                <td>
                                    <div class="specValue">{{room.rentRateHour | currency:'GBP':'symbol-narrow'}}</div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="specTitle">Capacity:</div>
                                </td>
                                <td>
                                    <div class="specValue">{{room.capacity}}</div>
                                </td>
                            </tr>
                        </table>
                    </mat-card-content>
                </mat-card>
                <mat-card>
                    <mat-card-header>
                        <h3><i class="fa fa-coffee" aria-hidden="true"></i>Extra Features</h3>
                    </mat-card-header>
                    <mat-card-content style="padding: 2em;">
                        <div fxLayout="row wrap" fxLayoutGap="40px" fxLayoutAlign="flex-start">
                            <div *ngFor="let extra of getRoomExtras()" class="extra">{{extra.name}} ({{extra.defaultRate | currency:'GBP':'symbol-narrow'}})</div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
            <div fxFlex fxLayout="column" fxLayoutAlign="top">
                <mat-card>
                    <mat-card-header>
                        <h3><i class="fa fa-calendar" aria-hidden="true"></i> Availabilities</h3>
                    </mat-card-header>
                    <mat-card-content>
                        <app-room-calendar #calendar [room]="room" [scaleStartHour]="8" [height]="350" [width]="400" [scaleEndHour]="19" [readOnly]="true" [showViews]="['weekView']"></app-room-calendar>
                    </mat-card-content>
                </mat-card>
                <mat-card>
                    <mat-card-content>
                        <div style="width: 10em;">
                            <button fxFlex mat-flat-button color="primary" (click)='bookNow()' style="height: 3em; width: 10em;">
                        <i class="fa fa-calendar-check-o"></i> Book Now
                </button>
                        </div>
                    </mat-card-content>
                </mat-card>

            </div>
        </div>
    </div>

    <div><span>Next bookings:</span></div>
    <ul class="bookings">
        <li *ngFor="let booking of nextBookings">
            <a routerLink="/bookings/booking/{{booking.ref}}">
                <span class="badge">{{booking.ref}}</span>
                <div>{{booking.startDate | date : 'mediumDate'}} [ {{booking.startDate | date : 'shortTime'}} - {{booking.endDate | date : 'shortTime'}} ] (duration: {{duration(booking)}} hours)</div>
            </a>
        </li>
    </ul>
    <div><span>Past bookings:</span></div>
    <ul class="bookings">
        <li *ngFor="let booking of pastBookings">
            <a routerLink="/bookings/booking/{{booking.ref}}">
                <span class="badge">{{booking.ref}}</span>
                <div>{{booking.startDate | date : 'mediumDate'}} [ {{booking.startDate | date : 'shortTime'}} - {{booking.endDate | date : 'shortTime'}} ] (duration: {{duration(booking)}} hours)</div>
            </a>
        </li>
    </ul>
</div>
<button (click)='bookNow()'>book now</button>
<button (click)='goBack()'>go back</button>
